local_backend: true
backend:
  name: github
  repo: TelesCoop/TelesCoop-site-vitrine
  branch: main
  squash_merges: true
  base_url: https://gateway.telescoop.fr
  auth_endpoint: /github/auth

media_folder: '/img/media'
public_folder: '/img/media'

# Slug configuration for filenames
slug:
  encoding: 'ascii'
  clean_accents: true
  sanitize_replacement: '-'

# Champs réutilisables
title_field: &title_field
  label: 'Titre'
  name: 'title'
  widget: 'string'

metadata_field: &metadata_field
  name: 'metadata'
  label: 'Métadonnées'
  hint: 'Pour le SEO et les réseaux sociaux'
  widget: 'object'
  collapsed: false
  fields:
    - label: 'Titre Meta (SEO)'
      name: 'title'
      widget: 'string'
      required: false
      hint: 'Si vide, utilise le titre principal de la page'
    - label: 'Description'
      name: 'description'
      widget: 'string'
      required: false
    - label: 'Image de couverture'
      name: 'heroImage'
      widget: 'image'
      required: false
      hint: 'Image utilisée pour la preview sur les réseaux sociaux'

collections:
  - name: 'blog'
    label: 'Articles de blog'
    folder: '_data'
    file: 'blog'
    extension: 'yaml'
    format: 'yaml-frontmatter'
    create: false
    delete: false
    fields:
      - label: 'Articles'
        name: 'articles'
        widget: 'list'
        fields:
          - { label: 'Titre', name: 'title', widget: 'string' }
          - { label: 'Date', name: 'date', widget: 'datetime', format: 'YYYY-MM-DD' }
          - { label: 'Extrait', name: 'excerpt', widget: 'text' }
          - { label: 'Contenu', name: 'content', widget: 'markdown' }
          - {
            label: 'Catégories',
            name: 'categories',
            widget: 'list',
            field: { label: 'Catégorie', name: 'category', widget: 'string' }
          }
          - { label: 'Temps de lecture (min)', name: 'readTime', widget: 'number', value_type: 'int', min: 1 }

  - name: 'projects'
    label: 'Projets'
    folder: '_data'
    file: 'projects'
    extension: 'yaml'
    format: 'yaml'
    create: false
    delete: false
    fields:
      - label: 'Projets'
        name: 'projects'
        widget: 'list'
        fields:
          - { label: 'Titre', name: 'title', widget: 'string' }
          - {
            label: 'Catégories',
            name: 'categories',
            widget: 'select',
            multiple: true,
            options: [
              'outil métier',
              'service public',
              'cartographie',
              'open-source',
              'gestion de contenu',
              'site vitrine',
              'e-commerce'
            ]
          }
          - {
            label: 'Tags',
            name: 'tags',
            widget: 'select',
            multiple: true,
            required: false,
            options: [
              'intégration web',
              'développement web',
              'design',
              'gestion de projet',
              'écologie',
              'social',
              'sensibilisation',
              'cartographie',
              'SIG',
              'Géomatique',
              'association',
              'communication'
            ]
          }
          - { label: 'Nom du client', name: 'clientName', widget: 'string', required: false }
          - { label: 'Description du client', name: 'clientDescription', widget: 'text', required: false }
          - {
            label: 'Stack technique',
            name: 'projectStack',
            widget: 'list',
            required: false,
            field: { label: 'Technologie', name: 'tech', widget: 'string' }
          }
          - { label: 'Résumé du projet', name: 'projectResume', widget: 'text' }
          - { label: 'Description du projet', name: 'projectDescription', widget: 'markdown' }
          - { label: 'Durée du projet', name: 'projectDuration', widget: 'string', required: false }
          - { label: 'Unité de durée', name: 'projectDurationUnit', widget: 'string', required: false, hint: 'Ex: jours, mois, ans' }
          - { label: 'Lien du projet', name: 'projectLink', widget: 'string', required: false }
          - { label: 'Lien Git', name: 'projectGit', widget: 'string', required: false }
          - {
            label: 'Statut',
            name: 'projectStatus',
            widget: 'select',
            options: ['En cours', 'Terminé'],
            default: 'En cours'
          }
          - { label: 'Date de fin', name: 'projectEnd', widget: 'string', required: false }
          - { label: 'Image du projet', name: 'projectThumbnail', widget: 'image', required: false }
          - { label: 'Alt de l\'image', name: 'projectThumbnailAlt', widget: 'string', required: false }
          - { label: 'Témoignage', name: 'testimony', widget: 'text', required: false }

  - name: 'employees'
    label: 'Équipe'
    folder: '_data'
    file: 'employees'
    extension: 'yaml'
    format: 'yaml'
    create: false
    delete: false
    fields:
      - label: 'Membres de l\'équipe'
        name: 'employees'
        widget: 'list'
        fields:
          - { label: 'Nom', name: 'name', widget: 'string' }
          - { label: 'Titre', name: 'title', widget: 'string' }
          - { label: 'Photo', name: 'photo', widget: 'image', required: false }
          - { label: 'Bio', name: 'bio', widget: 'text', required: false }

  - name: 'clients'
    label: 'Clients'
    folder: '_data'
    file: 'clients'
    extension: 'yaml'
    format: 'yaml'
    create: false
    delete: false
    fields:
      - label: 'Clients'
        name: 'clients'
        widget: 'list'
        fields:
          - { label: 'Nom', name: 'name', widget: 'string' }
          - { label: 'Logo', name: 'logo', widget: 'image', required: false }
          - { label: 'URL', name: 'url', widget: 'string', required: false }

  - name: 'home'
    label: 'Page d\'accueil'
    folder: '_data'
    file: 'home'
    extension: 'yaml'
    format: 'yaml'
    create: false
    delete: false
    fields:
      - { label: 'Tagline', name: 'tagline', widget: 'string' }
      - { label: 'Description', name: 'description', widget: 'text' }
      - *metadata_field

  - name: 'services'
    label: 'Services'
    folder: '_data'
    file: 'services'
    extension: 'yaml'
    format: 'yaml'
    create: false
    delete: false
    fields:
      - label: 'Services'
        name: 'services'
        widget: 'list'
        fields:
          - { label: 'Titre', name: 'title', widget: 'string' }
          - { label: 'Description', name: 'description', widget: 'text' }
          - { label: 'Icône', name: 'icon', widget: 'image', required: false }
