---
import { getEntry } from 'astro:content';

const engagements = await getEntry('data', 'engagements');
const engagementsData = engagements?.data || {};
---

<section class="px-4">
  <div class="container mx-auto max-w-6xl">
    <div class="text-center mb-12">
      <span class="tag tag-xl mb-6">Nos engagements</span>
      <p class="text-2xl text-black mt-6">
        Ce que nous mettons en œuvre au quotidien pour construire un numérique plus responsable*
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {/* Engagements techniques */}
      {engagementsData.technical && (
        <div class="p-8">
          <h3 class="text-2xl mb-4">{engagementsData.technical.title}</h3>
          <ul class="space-y-3">
            {engagementsData.technical.items.map((item: string) => (
              <li class="flex items-start">
                <span class="mr-2 mt-1">•</span>
                <span class="text-black text-lg leading-relaxed">{item}</span>
              </li>
            ))}
          </ul>
        </div>
      )}

      {/* Engagements sociaux */}
      {engagementsData.social && (
        <div class="p-8">
          <h3 class="text-2xl mb-4">{engagementsData.social.title}</h3>
          <ul class="space-y-3">
            {engagementsData.social.items.map((item: string) => (
              <li class="flex items-start">
                <span class="mr-2 mt-1">•</span>
                <span class="text-black text-lg leading-relaxed">{item}</span>
              </li>
            ))}
          </ul>
        </div>
      )}

      {/* Engagements environnementaux */}
      {engagementsData.environmental && (
        <div class="p-8">
          <h3 class="text-2xl mb-4">{engagementsData.environmental.title}</h3>
          <ul class="space-y-3">
            {engagementsData.environmental.items.map((item: string) => (
              <li class="flex items-start">
                <span class="mr-2 mt-1">•</span>
                <span class="text-black text-lg leading-relaxed">{item}</span>
              </li>
            ))}
          </ul>
        </div>
      )}
    </div>

    <div class="mt-12 text-center">
      <p class="text-lg text-black">
        * Nous restons des humains imparfaits, en apprentissage permanent
      </p>
    </div>
  </div>
</section>
